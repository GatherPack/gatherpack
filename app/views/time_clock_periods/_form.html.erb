<%= f.error_notification %>
<%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

<div class="form-inputs">
  <%= f.input :name %>
  <%= f.input :start_time %>
  <%= f.input :end_time %>
  <%= f.input :permission, as: :select, collection: if current_user.admin
                                                      TimeClockPeriod.permissions.keys
                                                    elsif current_user.person.managed_teams.present?
                                                      TimeClockPeriod.permissions.keys.reject { |key| key == 'added_by_admin' }
                                                    else
                                                      TimeClockPeriod.permissions.keys.reject { |key| key == 'added_by_admin' || key == 'added_by_manager' }
                                                    end, label_method: :titleize, include_blank: false %>
  <%= f.association :team, collection: current_user.person.managed_teams %> <%#= TODO include_blank false if permission is added_by_manager or added_by_team_member %>
</div>
